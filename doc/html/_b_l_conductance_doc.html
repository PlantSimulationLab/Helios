<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>.: Boundary-Layer Conductance Model Plugin Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="Helios_logo_small.png"/></td>
  <td id="projectalign">
   <div id="projectname">.<span id="projectnumber">&#160;v1.2.64</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="_plug_ins.html">Plug-ins</a></li>  </ul>
</div>
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Boundary-Layer Conductance Model Plugin Documentation </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#BLCissues">Known Issues</a></li>
<li class="level1"><a href="#BLCIntro">Introduction</a></li>
<li class="level1"><a href="#BLCConstructor">BLConductanceModel Class Constructor</a></li>
<li class="level1"><a href="#BLCData">Input/Output Primitive Data</a><ul><li class="level2"><a href="#BLCInputData">Input Primitive Data</a></li>
<li class="level2"><a href="#BLOutputData">Default Output Primitive Data</a></li>
</ul>
</li>
<li class="level1"><a href="#BLUse">Using the Boundary Layer Conductance Model Plug-in</a><ul><li class="level2"><a href="#BLPrimData">Input Variables</a></li>
<li class="level2"><a href="#BLCModels">Boundary-layer Conductance Models</a><ul><li class="level3"><a href="#BLC1">1. The Polhausen Equation (Laminar Flat Plate, Forced Convection)</a></li>
<li class="level3"><a href="#BLC2">2. Laminar Inclined Plate, Mixed Free-Forced Convection</a></li>
<li class="level3"><a href="#BLC3">3. Laminar flow around a sphere</a></li>
<li class="level3"><a href="#BLC4">4. Flow over bare ground</a></li>
</ul>
</li>
<li class="level2"><a href="#BLCSet">Setting the Boundary-layer Conductance Model To Be Used</a></li>
<li class="level2"><a href="#BLCRun">Running the Model</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p><br  />
<br  />
 </p>
<table class="doxtable">
<tr>
<th>Dependencies </th><td>None </td></tr>
<tr>
<th>CMakeLists.txt </th><td>set( PLUGINS "boundarylayerconductance" ) </td></tr>
<tr>
<th>Header File </th><td>#include "BoundaryLayerConductanceModel.h" </td></tr>
<tr>
<th>Class </th><td><a class="el" href="class_b_l_conductance_model.html">BLConductanceModel</a> </td></tr>
</table>
<h1><a class="anchor" id="BLCissues"></a>
Known Issues</h1>
<p>None.</p>
<h1><a class="anchor" id="BLCIntro"></a>
Introduction</h1>
<p>The boundary-layer conductance to heat describes the rate of energy transfer across the primitive boundary-layer for a given driving temperature difference. Currently, four different boundary-layer conductance models are available as part of this plug-in.</p>
<h1><a class="anchor" id="BLCConstructor"></a>
BLConductanceModel Class Constructor</h1>
<table class="doxtable">
<tr>
<th>Constructors </th></tr>
<tr>
<td><a class="el" href="class_b_l_conductance_model.html#af507e5b75f21372ec225d5e5c0c8c97a">BLConductanceModel( helios::Context* context)</a> </td></tr>
</table>
<p>The <a class="el" href="class_b_l_conductance_model.html">BLConductanceModel</a> class is initialized by simply passing a pointer to the Helios context as an argument to the constructor.</p>
<h1><a class="anchor" id="BLCData"></a>
Input/Output Primitive Data</h1>
<h2><a class="anchor" id="BLCInputData"></a>
Input Primitive Data</h2>
<table class="doxtable">
<tr>
<th>Primitive Data </th><th>Units </th><th>Data Type </th><th>Description </th><th>Available Plug-ins </th><th>Default Value </th></tr>
<tr>
<td>wind_speed </td><td>m/s </td><td> <font face="courier" color="green">float</font> </td><td>Air wind speed just outside of primitive boundary-layer. </td><td>N/A </td><td>1 m/s </td></tr>
<tr>
<td>object_length </td><td>m </td><td> <font face="courier" color="green">float</font> </td><td>Characteristic dimension of object formed by primitive. </td><td>N/A </td><td>Square root of primitive surface area </td></tr>
<tr>
<td>air_temperature </td><td>Kelvin </td><td> <font face="courier" color="green">float</font> </td><td>Ambient air temperature outside of surface boundary layer. </td><td>N/A </td><td>290 K </td></tr>
<tr>
<td>surface_temperature </td><td>Kelvin </td><td> <font face="courier" color="green">float</font> </td><td>Object surface temperature. </td><td><a class="el" href="class_energy_balance_model.html">EnergyBalanceModel</a> </td><td>300 K </td></tr>
<tr>
<td>twosided_flag </td><td>N/A </td><td> <font face="courier" color="green">uint</font> </td><td>Number of primitive faces with energy transfer (must be 1 or 2). </td><td>N/A </td><td>2 </td></tr>
</table>
<h2><a class="anchor" id="BLOutputData"></a>
Default Output Primitive Data</h2>
<table class="doxtable">
<tr>
<th>Primitive Data </th><th>Units </th><th>Data Type </th><th>Description </th></tr>
<tr>
<td>boundarylayer_conductance </td><td>mol air/m<sup>2</sup>-s </td><td> <font face="courier" color="green">float</font> </td><td>Primitive boundary-layer conductance calculated by this plug-in. </td></tr>
</table>
<h1><a class="anchor" id="BLUse"></a>
Using the Boundary Layer Conductance Model Plug-in</h1>
<h2><a class="anchor" id="BLPrimData"></a>
Input Variables</h2>
<p>Inputs to the model are set by creating primitive variable data in the usual way. If a variable needed for a model input has not been create in the Context, the default value is assumed.</p>
<h2><a class="anchor" id="BLCModels"></a>
Boundary-layer Conductance Models</h2>
<p>There are four different built-in models for the boundary-layer conductance. The boundary-layer conductance model is set using the setBoundaryLayerModel() function, which takes as arguments the UUID(s) of primitives for which the model is to be set, and a string referencing the chosen model. Possible models are summarized in the table below and described in further detail below. If the setBoundaryLayerModel() is called for some UUIDs but not others, the plug-in will assume the default model (Polhausen) for any primitives for which no model was explicitly set.</p>
<p>It is also important to note that, by default, the length scale used to calculate the boundary-layer conductance is taken to be the square root of the primitive surface area. If the size of the object is different from the size of the primitive, then it is important to manually set the length scale to be the size of the object, as this is the relevant scale for boundary-layer development. This is usually necesary when using the boundary-layer conductance model for a sphere, for example.</p>
<p>The four available models are described in detail below:</p>
<table class="doxtable">
<tr>
<th>Model</th><th>string argument </th></tr>
<tr>
<td>1. Polhausen Equation (default)</td><td>"Polhausen" </td></tr>
<tr>
<td>2. Inclined Plate</td><td>"InclinedPlate" </td></tr>
<tr>
<td>3. Laminar Sphere</td><td>"Sphere" </td></tr>
<tr>
<td>4. Ground Surface</td><td>"Ground" </td></tr>
</table>
<h3><a class="anchor" id="BLC1"></a>
1. The Polhausen Equation (Laminar Flat Plate, Forced Convection)</h3>
<p>The Polhausen equation is a classical similarity solution describing the boundary-layer conductance to heat for a flat plate parallel with the flow direction that is infinitely wide in the spanwise direction, and has finite length of <img class="formulaInl" alt="$L$" src="form_23.png" width="11" height="12"/> in the streamwise direction. This model also assumes that the plate/primitive boundary-layer is laminar, and that convection is entirely forced (i.e., momentum forces dominate buoyancy forces). The boundary-layer conductance is calculated as</p>
<p><img class="formulaInl" alt="$g_H = 0.135 n_s\sqrt{\frac{U}{L}}$" src="form_24.png" width="117" height="29"/>,</p>
<p>where <img class="formulaInl" alt="$U$" src="form_25.png" width="12" height="12"/> is the wind speed just outside of the primitive boundary-layer, and <img class="formulaInl" alt="$L$" src="form_23.png" width="11" height="12"/> is the characteristic length/dimension in the streamwise direction of the object that the primitive belongs to. For a leaf consisting of a single primitive, <img class="formulaInl" alt="$L$" src="form_23.png" width="11" height="12"/> could be assumed to be the length of the primitive. If the primitive belongs to a Tile Compound Object, the plug-in will automatically use the dimension of the entire tile object and not that of a single patch/tile. Note that <img class="formulaInl" alt="$g_H$" src="form_26.png" width="20" height="11"/> describes transfer from both sides of the plate/primitive, but transfer from each side of the plate/primitive is asymmetric because of buoyancy forces. <img class="formulaInl" alt="$n_s$" src="form_27.png" width="15" height="11"/> is the number of primitive faces, which is determined by the value of primitive data "twosided_flag" (twosided_flag=0 is single-sided and <img class="formulaInl" alt="$n_s=1$" src="form_28.png" width="44" height="14"/>, twosided_flag=1 is two-sided and <img class="formulaInl" alt="$n_s=2$" src="form_29.png" width="44" height="14"/>).</p>
<h3><a class="anchor" id="BLC2"></a>
2. Laminar Inclined Plate, Mixed Free-Forced Convection</h3>
<p><a href="https://doi.org/10.1115/1.3247020">Chen et al. (1986)</a> provide a correlation for the boundary-layer conductance of a flat plate that is inclined with respect to the mean ambient flow direction. The correlation assumes that the plate is infinite in the spanwise direction, and has length <img class="formulaInl" alt="$L$" src="form_23.png" width="11" height="12"/> in the other direction.</p>
<p>The boundary-layer conductance for a plate inclined at <img class="formulaInl" alt="$\theta_L\leq 75^\circ$" src="form_30.png" width="57" height="15"/> is given by</p>
<p><img class="formulaInl" alt="$g_H(\theta_L)=\frac{\rho_a \nu}{Pr\,D_L}2F_1Re^{1/2}\left\{1\pm\left[\frac{2F_2\left(Gr\,\mathrm{cos}\,\theta_L/Re^2\right)^{1/4}}{3F_1}\right]^3\right\}^{1/3},$" src="form_31.png" width="393" height="51"/></p>
<p>and for <img class="formulaInl" alt="$\theta_L&gt;75^\circ$" src="form_32.png" width="57" height="15"/> as</p>
<p><img class="formulaInl" alt="$g_H(\theta_L)=\frac{\rho_a \nu}{Pr\,D_L}2F_1Re^{1/2}\left\{1\pm\left[\frac{F_3\left(Gr/Re^{5/2}\right)^{1/5}Gr^{C(\theta_L)}}{6\left[0.2+C(\theta_L)\right]F_1}\right]^3\right\}^{1/3},$" src="form_33.png" width="408" height="51"/></p>
<p>where <img class="formulaInl" alt="$\rho_a$" src="form_34.png" width="15" height="11"/>, <img class="formulaInl" alt="$\nu$" src="form_35.png" width="8" height="8"/>, and <img class="formulaInl" alt="$Pr$" src="form_36.png" width="18" height="12"/> are respectively the molar density, kinematic viscosity, and Prandtl number of air, <img class="formulaInl" alt="$L$" src="form_23.png" width="11" height="12"/> is the effective leaf dimension (<a href="https://doi.org/10.1115/1.3597463">Parkhurst 1968</a>), <img class="formulaInl" alt="$Re$" src="form_37.png" width="18" height="12"/> is the Reynolds number based on <img class="formulaInl" alt="$L$" src="form_23.png" width="11" height="12"/> and the local free-stream air velocity, and <img class="formulaInl" alt="$Gr$" src="form_38.png" width="18" height="12"/> is the Grashof number which is defined here as</p>
<p><img class="formulaInl" alt="$Gr=\frac{g\beta\left(T_L-T_a\right)D_L^3}{\nu^2},$" src="form_39.png" width="125" height="24"/></p>
<p>where <img class="formulaInl" alt="$g$" src="form_40.png" width="9" height="11"/> is the acceleration due to gravity, and <img class="formulaInl" alt="$\beta$" src="form_41.png" width="11" height="15"/> is the volumetric thermal expansion coefficient which we approximate as the inverse of absolute ambient air temperature <img class="formulaInl" alt="$1/T_a$" src="form_42.png" width="30" height="17"/> with <img class="formulaInl" alt="$T_a$" src="form_43.png" width="17" height="14"/> in units of Kelvin. The plus and minus signs corresponds to buoyancy assisting flow and opposing flow cases, respectively. In the present model, the mean wind vector is always orthogonal to the gravity vector (transverse flow), and thus we always take the positive or buoyancy assisting flow case. The constants in the correlations are defined as</p>
<p><img class="formulaInl" alt="$F_1=0.399Pr^{1/3}\left[1+\left(0.0468/Pr\right)^{2/3}\right]^{-1/4},$" src="form_44.png" width="282" height="33"/></p>
<p><img class="formulaInl" alt="$F_2=0.75Pr^{1/2}\left[2.5\left(1+2Pr^{1/2}+2Pr\right)\right]^{-1/4},$" src="form_45.png" width="300" height="24"/></p>
<p><img class="formulaInl" alt="$F_3=Pr^{1/2}\left[0.25+1.6Pr^{1/2}\right]^{-1}\left(Pr/5\right)^{0.2+C(\theta_L)},$" src="form_46.png" width="318" height="24"/></p>
<p><img class="formulaInl" alt="$C(\theta_L)=0.070\left(\mathrm{cos}\,\theta_L\right)^{1/2}.$" src="form_47.png" width="171" height="21"/></p>
<p>Chen et al. (1986) mention that the equation for <img class="formulaInl" alt="$\theta_L\leq 75^\circ$" src="form_30.png" width="57" height="15"/> is valid for <img class="formulaInl" alt="$10^3\leq Re \leq 10^5$" src="form_48.png" width="101" height="17"/>, and the equation for <img class="formulaInl" alt="$\theta_L&gt;75^\circ$" src="form_32.png" width="57" height="15"/> is valid for <img class="formulaInl" alt="$10^3\leq GrPr \leq 10^9$" src="form_49.png" width="120" height="17"/>. We expect leaf Reynolds numbers somewhere between <img class="formulaInl" alt="$5\times 10^3$" src="form_50.png" width="47" height="14"/> and <img class="formulaInl" alt="$5\times 10^4$" src="form_51.png" width="47" height="14"/>. Average <img class="formulaInl" alt="$Gr Pr$" src="form_52.png" width="38" height="12"/> values are usually on the order of <img class="formulaInl" alt="$10^6$" src="form_53.png" width="21" height="14"/>. When <img class="formulaInl" alt="$T_L \approx T_a$" src="form_54.png" width="54" height="14"/>, it is possible for <img class="formulaInl" alt="$Gr Pr$" src="form_52.png" width="38" height="12"/> to drop below <img class="formulaInl" alt="$10^3$" src="form_55.png" width="21" height="14"/>, however in these cases the net radiation is usually nearly zero and convective heat fluxes are low anyway.</p>
<h3><a class="anchor" id="BLC3"></a>
3. Laminar flow around a sphere</h3>
<p><a href="https://books.google.com/books?id=L5FnNlIaGfcC&amp;dq=bird+lightfoot+Transport+Phenomena&amp;lr=&amp;source=gbs_navlinks_s">Bird et al. (1960)</a> provides correlation for forced convection heat transfer in laminar flow around a sphere</p>
<p><img class="formulaInl" alt="$g_H = \frac{0.00164}{D} + 0.110\sqrt{\frac{U}{D}}$" src="form_56.png" width="164" height="29"/>,</p>
<p>where <img class="formulaInl" alt="$D$" src="form_57.png" width="12" height="12"/> is the sphere diameter, and <img class="formulaInl" alt="$U$" src="form_25.png" width="12" height="12"/> is the wind speed outside of the sphere boundary-layer.</p>
<h3><a class="anchor" id="BLC4"></a>
4. Flow over bare ground</h3>
<p><a href="https://doi.org/10.1016/S0168-1923(99)00005-2">Kustas and Norman (1999)</a> suggest a simple relationship for the convective heat conductance over flat, bare ground:</p>
<p><img class="formulaInl" alt="$g_H = 0.166+0.5U,$" src="form_58.png" width="125" height="15"/></p>
<p>where <img class="formulaInl" alt="$U$" src="form_25.png" width="12" height="12"/> is the wind speed at a height above the soil surface where the effect of the soil surface roughness is minimal; typically 0.05 to 0.2 m.</p>
<h2><a class="anchor" id="BLCSet"></a>
Setting the Boundary-layer Conductance Model To Be Used</h2>
<div style="padding:0.5px;background-color:#D0D0D0 ;line-height:1.2;"> <pre><code> <code></code>// Declare the Context and add two primitives
  Context context;

  uint UUID0 = context.addPatch();

  uint UUID1 = context.addPatch();

  <code></code>// Initialize the boundary-layer conductance Model
  BLConductanceModel boundarylayerconductance(&amp;context);

  <code></code>// This changes the boundary-layer conductance model for all (both) primitives
  boundarylayerconductance.setBoundaryLayerModel( "InclinedPlate" );

  <code></code>// This changes the boundary-layer conductance model for the second primitive (while the first will keep the model set above)
  boundarylayerconductance.setBoundaryLayerModel( UUID1, "ground" );</code></pre></div><h2><a class="anchor" id="BLCRun"></a>
Running the Model</h2>
<p>The model can be run to calculate the boundary-layer conductance for all primitives or a sub-set of primitives using the appropriate run function below.</p>
<table class="doxtable">
<caption>Functions to perform boundary-layer conductance model calculations.</caption>
<tr>
<th>Model Run Function </th><th>Description </th></tr>
<tr>
<td><a class="el" href="class_b_l_conductance_model.html#a51ec4c164f767dcfd734d38e66134a7d">BLConductanceModel::run( void )</a> </td><td>Run model calculations for all primitives in the Context. </td></tr>
<tr>
<td>BLConductanceModel::run( std::vector&lt;uint&gt; UUIDs ) </td><td>Run model calculations for a select set of primitives in the Context, which are specified by a vector of their UUIDs. </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
